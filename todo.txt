---------------------------------------------------------------------------
This is the public TODO list for the Allegro Game/Multimedia Library.
---------------------------------------------------------------------------

Updates or comments can be sent to the TODO list maintainer Peter Wang
<tjaden@alphalink.com.au> or to the Allegro developer's mailinglist
<conductors@canvaslink.com>, preferrably with the text [TODO] in the subject.


General (Platform independant) todos:
---------------------------------------------------------------------------

- find solution or API to timer/multithread problem
- don't use BITMAPs for zbuffers
- Unified color conversion routines for all windowed gfx drivers (now
  that we have a Mac port, it's a total of 4 possible windowed drivers,
  and the need of an unified set of window updating routines is stronger)
  [Eric or Angelo: remove this when it's done]
- implement fetch_mode_list() method on all GFX drivers.
- gfx_mode_select* should use get_gfx_mode_list when available.
- os_version & os_revision should be set on all platforms.
- check and/or fix compilation with gcc 3.0
- asm draw_sprite et al. don't work with sub-bitmaps
- include dat2c once finished
- include exunicod

DOS todos:
---------------------------------------------------------------------------


Win32 todos:
---------------------------------------------------------------------------

- DirectInput 5 joystick driver
- Investigate mouse problem with USB Wacom Tablet
- Fix 'mouse pointer not hidden' bug (likely a race condition)
- Add backward playing to the DirectSound driver
- Emulate findfirst
- Investigate #define NO_STRICT problem

Linux todos:
---------------------------------------------------------------------------

- keyboard set_rate
- Find out more about sched_yield
- switch to proper SRPMs and RPMS (esp. now that we have modules)
- pthread alternatives for timers and event processing (instead of SIGALRM)

X11 todos:
---------------------------------------------------------------------------

- remove `dga_mouse' config var when appropriate (newer servers have fixed
  the bug this works around).  Wait until XF86 4.0 propagated..
- speed up X11 driver
- key[] should not be internationalised (e.g. KEY_S should always be set
  for the key two to the right of CapsLock).  If we can't solve this in
  time, include bukinm's xkeymap program.

Unix todos:
---------------------------------------------------------------------------

- check which parts of makefiles break with non-GNU make
- update ALSA drivers to latest stable version
- resolve PIC-related problems, esp. on Debian

Macintosh todos:
---------------------------------------------------------------------------

- don't use argv or argc on main function, now this not work.
- don't use printf, stdout, stderr, stdin function related use allegro_message.
- allegro_message truncates message to 254 chars.
- low resolutions like 320x200 doesn't fill the entire screen.
- missing features include: hardware accelleration, virtual screens,
  scrolling, joystick, switching, windowed modes, true 16 & 32 bpp
  colordepths.
- fix midi playback.
- Update the docs.
- Window close button?

BeOS todos:
---------------------------------------------------------------------------

- Make the windowed driver to use the unified color conversion routines
  (this requires those routines to support *all* possible color combinations,
  and also to support span widths not multiple of 8)
- Write a safe windowed driver using BBitmap
- shared library support, possibly convert building system to autoconf
- code cleanup
- check timer speed is correct (MIDI playback esp.)

QNX todos:
---------------------------------------------------------------------------

- Video bitmaps and acceleration support in fullscreen mode
- Display switching in fullscreen mode
- Fix the makefile
- Update the docs
- Use standard Unix build system (autoconf, etc.) if possible

Wishlist
---------------------------------------------------------------------------

- More hardware accelerated functions? Trans/lit sprites come to mind.
- framebuffer hardware accel via XFB or DirectFB (?) library/driver
- Better get_config_text support, with multiple fallback configuration
  files (you can have lot's of them under linux), which is not supported at
  the moment (IIRC two at most).
- Split setup in two: user program and configuration library. This would
  allow easier merge process of configuration program into real user
  programs, as well as modifying the interface and "look'n'feel". The lib
  should be written in such a way to support future additions without the
  need of rewritting the user setup ui.
- Play with switch_in/out X events, just for the sake of it :-)
- OSS MIDI pitch bend.
- hook function to handle window resizing
- DirectMusic 6 MIDI driver
- Add caching system to speed up filename#object and load_datafile_object()
- Video overlay gfx driver under QNX
- rewrite set_gfx_mode
- size_t where appropriate (get more opinions first)
- make zipwin.sh work with mingw32.
- make allegro not use uconvert static buffer; reserve for user

---------------------------------------------------------------------------
